<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="light">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>How Line Movement Reflects Information Flow | SignalVsNoise</title>
<meta name="keywords" content="">
<meta name="description" content="How Line Movement Reflects Information Flow
In the world of sports betting and prediction markets, the odds or lines set by bookmakers or platforms don&rsquo;t just indicate potential payouts—they also serve as a reflection of the collective information and beliefs held by market participants. Understanding how and why these lines move can offer valuable insight into how information flows through the betting market, providing a unique window into collective decision-making in real time.">
<meta name="author" content="">
<link rel="canonical" href="https://signalvsnoise.to/posts/2026-01-22-how-line-movement-reflects-information-flow/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://signalvsnoise.to/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://signalvsnoise.to/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://signalvsnoise.to/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://signalvsnoise.to/apple-touch-icon.png">
<link rel="mask-icon" href="https://signalvsnoise.to/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://signalvsnoise.to/posts/2026-01-22-how-line-movement-reflects-information-flow/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    }

</script><meta property="og:url" content="https://signalvsnoise.to/posts/2026-01-22-how-line-movement-reflects-information-flow/">
  <meta property="og:site_name" content="SignalVsNoise">
  <meta property="og:title" content="How Line Movement Reflects Information Flow">
  <meta property="og:description" content="How Line Movement Reflects Information Flow In the world of sports betting and prediction markets, the odds or lines set by bookmakers or platforms don’t just indicate potential payouts—they also serve as a reflection of the collective information and beliefs held by market participants. Understanding how and why these lines move can offer valuable insight into how information flows through the betting market, providing a unique window into collective decision-making in real time.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2026-01-22T00:00:00+00:00">
    <meta property="article:modified_time" content="2026-01-22T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How Line Movement Reflects Information Flow">
<meta name="twitter:description" content="How Line Movement Reflects Information Flow
In the world of sports betting and prediction markets, the odds or lines set by bookmakers or platforms don&rsquo;t just indicate potential payouts—they also serve as a reflection of the collective information and beliefs held by market participants. Understanding how and why these lines move can offer valuable insight into how information flows through the betting market, providing a unique window into collective decision-making in real time.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://signalvsnoise.to/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How Line Movement Reflects Information Flow",
      "item": "https://signalvsnoise.to/posts/2026-01-22-how-line-movement-reflects-information-flow/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How Line Movement Reflects Information Flow",
  "name": "How Line Movement Reflects Information Flow",
  "description": "How Line Movement Reflects Information Flow In the world of sports betting and prediction markets, the odds or lines set by bookmakers or platforms don\u0026rsquo;t just indicate potential payouts—they also serve as a reflection of the collective information and beliefs held by market participants. Understanding how and why these lines move can offer valuable insight into how information flows through the betting market, providing a unique window into collective decision-making in real time.\n",
  "keywords": [
    
  ],
  "articleBody": "How Line Movement Reflects Information Flow In the world of sports betting and prediction markets, the odds or lines set by bookmakers or platforms don’t just indicate potential payouts—they also serve as a reflection of the collective information and beliefs held by market participants. Understanding how and why these lines move can offer valuable insight into how information flows through the betting market, providing a unique window into collective decision-making in real time.\nWant the full framework? → Get the Free Guide No picks. No hype. Unsubscribe anytime.\nThis article unpacks the mechanics behind line movement, why it happens, and what it reveals about information aggregation, using clear examples and focusing on transparency rather than speculation.\nWhat Is a Betting Line? Before diving into line movement, it’s important to clarify what a betting line is:\nDefinition: A betting line (or odds) represents the implied probability of an event occurring, such as a team winning a game. Purpose for bookmakers: It balances the book—meaning it attracts bets on both sides to minimize the bookmaker’s risk. Purpose for bettors: It provides the payout ratio, informing how much a bettor earns if the outcome they wager on occurs. For example, in an NBA game between the Los Angeles Lakers and Boston Celtics, a point spread might have the Lakers favored by 5.5 points. This means the line suggests the Lakers are expected to win by more than 5.5 points for bets on them to pay out.\nWhy Do Lines Move? Line movement refers to changes in the betting odds or point spreads after they are initially posted.\nPrimary reasons for line movement: Betting volume and money flow:\nBookmakers adjust lines to balance action between opposing sides. If one side receives heavy betting, the line moves to encourage more bets on the other side or to discourage further bets on the favored side. New information becoming available:\nInjury reports Changes in team lineup or strategy Weather or venue conditions Insider news or reports Sharps and informed bettors:\nProfessional or knowledgeable bettors (‘sharps’) place large bets. Bookmakers often move lines in response to sharp money, recognizing these bettors often possess superior information or analysis. Line Movement as Information Aggregation The betting market aggregates diverse pieces of information held by millions of participants into a single number—the line. By observing how lines move, we get insight into how new information is incorporated across different channels:\nInitial line setting: Bookmakers use statistical models, historical data, and expert opinions to set the opening line. Market feedback: Large volumes of bets at specific odds push bookmakers to adjust lines constantly. Information flow: As insiders or sharp bettors act on new or private information, the line shifts to reflect changing probabilities. Public belief: Recreational bettors also influence lines by reacting to news, rumors, or recent outcomes. Example: NBA Line Movement and Injury Reports Consider an NBA game initially posted with the Golden State Warriors favored by 4 points against the Miami Heat. Shortly after, news breaks that the Warriors’ star player has a minor ankle injury and is listed as questionable.\nBefore injury news: The line stays at Warriors -4. After injury news: Sharp bettors may quickly place bets on the Heat, anticipating that the Warriors’ performance could be impaired. Bookmaker reaction: To balance its risk, the bookmaker moves the line to Warriors -2.5, making it more attractive to bet on the Heat. Public reaction: Casual bettors who hear the injury news may also start betting on Miami, reinforcing the pressure on the bookmaker to adjust the line further. Result: The line movement from -4 to -2.5 signals the market’s adjusted probability of the Warriors winning by that margin, now incorporating the injury information. This example shows how line movements help the market rapidly incorporate new knowledge.\nMechanics of Line Movement How bookmakers adjust lines: Balancing the book: Bookmakers aim to have equal bets on both sides. If too many bets on one side come in, the line shifts to attract bets on the other side. Risk management: Changing the line influences bettor behavior to limit potential losses. Market efficiency: Bookmakers incorporate betting patterns as a signal of potential inside knowledge, adjusting odds before the event starts. Types of line adjustments: Small adjustments: Often reflect minor shifts in betting volume. Sharp-driven moves: Larger, rapid moves often follow high-stakes bets placed by professional bettors. Slow drift: Gradual changes as new information trickles in leading up to the event. Incentives Behind Line Movement Understanding the incentives of various participants clarifies the forces behind line movement:\nBookmakers: Want to minimize risk on large bets. Use line movement to encourage balanced book or reduce exposure. Sharp bettors: Seek lines that misprice actual probabilities. Their bets signal valuable information to bookmakers. Recreational bettors: May bet based on news, trends, or biases. Their actions further influence the line, sometimes contrary to sharp action. What Line Movement Does Not Guarantee Line movement is not a definitive predictor of outcomes. Sometimes public sentiment drives movement even against objective information. Sharp money can be wrong, though on average it tends to be more informed. Bookmakers also factor in their margins, so lines may not precisely reflect true probabilities. Conclusion Line movement offers a real-time lens into the flow of information within betting markets. It is the combined product of bookmaker risk management, sharp bettors’ informed actions, and public sentiment responding to news and data. Observing these movements can deepen your understanding of how markets collectively process information, although line shifts are not definite indicators of outcomes.\nBy recognizing what causes lines to move, and how markets respond to information, interested observers can appreciate the dynamics of prediction markets beyond the simple appeal of betting.\nSummary Points A betting line reflects implied probabilities and payout ratios. Lines move primarily because of betting volume imbalance and new information. Sharp money often signals valuable insider information, causing notable line movements. Bookmakers adjust lines to balance bets and manage risk. NBA injury reports provide a clear example of information flow affecting lines. Line movement aggregates diverse information from sharps, public bettors, and external news. Movement is a reflection of market consensus, not a guarantee of outcomes. By understanding these dynamics, readers can better appreciate the informational role lines play in sports betting markets and prediction markets broadly.\nEducational only; not betting advice.\nHow professionals think about this They focus on calibration and process, not short-term outcomes. They separate signal from noise over many trials. They care about prices, liquidity, and incentives—not narratives. ",
  "wordCount" : "1079",
  "inLanguage": "en",
  "datePublished": "2026-01-22T00:00:00Z",
  "dateModified": "2026-01-22T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://signalvsnoise.to/posts/2026-01-22-how-line-movement-reflects-information-flow/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "SignalVsNoise",
    "logo": {
      "@type": "ImageObject",
      "url": "https://signalvsnoise.to/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://signalvsnoise.to/" accesskey="h" title="SignalVsNoise (Alt + H)">SignalVsNoise</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://signalvsnoise.to/posts/" title="Articles">
                    <span>Articles</span>
                </a>
            </li>
            <li>
                <a href="https://signalvsnoise.to/free-guide/" title="Free Guide">
                    <span>Free Guide</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      How Line Movement Reflects Information Flow
    </h1>
    <div class="post-meta"><span title='2026-01-22 00:00:00 +0000 UTC'>January 22, 2026</span>&nbsp;·&nbsp;<span>6 min</span>

</div>
  </header> 
  <div class="post-content"><h1 id="how-line-movement-reflects-information-flow">How Line Movement Reflects Information Flow<a hidden class="anchor" aria-hidden="true" href="#how-line-movement-reflects-information-flow">#</a></h1>
<p>In the world of sports betting and prediction markets, the odds or lines set by bookmakers or platforms don&rsquo;t just indicate potential payouts—they also serve as a reflection of the collective information and beliefs held by market participants. Understanding how and why these lines move can offer valuable insight into how information flows through the betting market, providing a unique window into collective decision-making in real time.</p>
<!-- SVS_INTRO_CTA -->
<p><strong>Want the full framework?</strong>
→ <a href="/free-guide/">Get the Free Guide</a>
<em>No picks. No hype. Unsubscribe anytime.</em></p>
<p>This article unpacks the mechanics behind line movement, why it happens, and what it reveals about information aggregation, using clear examples and focusing on transparency rather than speculation.</p>
<hr>
<h2 id="what-is-a-betting-line">What Is a Betting Line?<a hidden class="anchor" aria-hidden="true" href="#what-is-a-betting-line">#</a></h2>
<p>Before diving into line movement, it’s important to clarify what a betting line is:</p>
<ul>
<li><strong>Definition:</strong> A betting line (or odds) represents the implied probability of an event occurring, such as a team winning a game.</li>
<li><strong>Purpose for bookmakers:</strong> It balances the book—meaning it attracts bets on both sides to minimize the bookmaker’s risk.</li>
<li><strong>Purpose for bettors:</strong> It provides the payout ratio, informing how much a bettor earns if the outcome they wager on occurs.</li>
</ul>
<p>For example, in an NBA game between the Los Angeles Lakers and Boston Celtics, a point spread might have the Lakers favored by 5.5 points. This means the line suggests the Lakers are expected to win by more than 5.5 points for bets on them to pay out.</p>
<hr>
<h2 id="why-do-lines-move">Why Do Lines Move?<a hidden class="anchor" aria-hidden="true" href="#why-do-lines-move">#</a></h2>
<p>Line movement refers to changes in the betting odds or point spreads after they are initially posted.</p>
<h3 id="primary-reasons-for-line-movement">Primary reasons for line movement:<a hidden class="anchor" aria-hidden="true" href="#primary-reasons-for-line-movement">#</a></h3>
<ol>
<li>
<p><strong>Betting volume and money flow:</strong></p>
<ul>
<li>Bookmakers adjust lines to balance action between opposing sides.</li>
<li>If one side receives heavy betting, the line moves to encourage more bets on the other side or to discourage further bets on the favored side.</li>
</ul>
</li>
<li>
<p><strong>New information becoming available:</strong></p>
<ul>
<li>Injury reports</li>
<li>Changes in team lineup or strategy</li>
<li>Weather or venue conditions</li>
<li>Insider news or reports</li>
</ul>
</li>
<li>
<p><strong>Sharps and informed bettors:</strong></p>
<ul>
<li>Professional or knowledgeable bettors (&lsquo;sharps&rsquo;) place large bets.</li>
<li>Bookmakers often move lines in response to sharp money, recognizing these bettors often possess superior information or analysis.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="line-movement-as-information-aggregation">Line Movement as Information Aggregation<a hidden class="anchor" aria-hidden="true" href="#line-movement-as-information-aggregation">#</a></h2>
<p>The betting market aggregates diverse pieces of information held by millions of participants into a single number—the line. By observing how lines move, we get insight into how new information is incorporated across different channels:</p>
<ul>
<li><strong>Initial line setting:</strong> Bookmakers use statistical models, historical data, and expert opinions to set the opening line.</li>
<li><strong>Market feedback:</strong> Large volumes of bets at specific odds push bookmakers to adjust lines constantly.</li>
<li><strong>Information flow:</strong> As insiders or sharp bettors act on new or private information, the line shifts to reflect changing probabilities.</li>
<li><strong>Public belief:</strong> Recreational bettors also influence lines by reacting to news, rumors, or recent outcomes.</li>
</ul>
<hr>
<h2 id="example-nba-line-movement-and-injury-reports">Example: NBA Line Movement and Injury Reports<a hidden class="anchor" aria-hidden="true" href="#example-nba-line-movement-and-injury-reports">#</a></h2>
<p>Consider an NBA game initially posted with the Golden State Warriors favored by 4 points against the Miami Heat. Shortly after, news breaks that the Warriors&rsquo; star player has a minor ankle injury and is listed as questionable.</p>
<ul>
<li><strong>Before injury news:</strong> The line stays at Warriors -4.</li>
<li><strong>After injury news:</strong> Sharp bettors may quickly place bets on the Heat, anticipating that the Warriors&rsquo; performance could be impaired.</li>
<li><strong>Bookmaker reaction:</strong> To balance its risk, the bookmaker moves the line to Warriors -2.5, making it more attractive to bet on the Heat.</li>
<li><strong>Public reaction:</strong> Casual bettors who hear the injury news may also start betting on Miami, reinforcing the pressure on the bookmaker to adjust the line further.</li>
<li><strong>Result:</strong> The line movement from -4 to -2.5 signals the market&rsquo;s adjusted probability of the Warriors winning by that margin, now incorporating the injury information.</li>
</ul>
<p>This example shows how line movements help the market rapidly incorporate new knowledge.</p>
<hr>
<h2 id="mechanics-of-line-movement">Mechanics of Line Movement<a hidden class="anchor" aria-hidden="true" href="#mechanics-of-line-movement">#</a></h2>
<h3 id="how-bookmakers-adjust-lines">How bookmakers adjust lines:<a hidden class="anchor" aria-hidden="true" href="#how-bookmakers-adjust-lines">#</a></h3>
<ul>
<li><strong>Balancing the book:</strong> Bookmakers aim to have equal bets on both sides. If too many bets on one side come in, the line shifts to attract bets on the other side.</li>
<li><strong>Risk management:</strong> Changing the line influences bettor behavior to limit potential losses.</li>
<li><strong>Market efficiency:</strong> Bookmakers incorporate betting patterns as a signal of potential inside knowledge, adjusting odds before the event starts.</li>
</ul>
<h3 id="types-of-line-adjustments">Types of line adjustments:<a hidden class="anchor" aria-hidden="true" href="#types-of-line-adjustments">#</a></h3>
<ul>
<li><strong>Small adjustments:</strong> Often reflect minor shifts in betting volume.</li>
<li><strong>Sharp-driven moves:</strong> Larger, rapid moves often follow high-stakes bets placed by professional bettors.</li>
<li><strong>Slow drift:</strong> Gradual changes as new information trickles in leading up to the event.</li>
</ul>
<hr>
<h2 id="incentives-behind-line-movement">Incentives Behind Line Movement<a hidden class="anchor" aria-hidden="true" href="#incentives-behind-line-movement">#</a></h2>
<p>Understanding the incentives of various participants clarifies the forces behind line movement:</p>
<ul>
<li><strong>Bookmakers:</strong>
<ul>
<li>Want to minimize risk on large bets.</li>
<li>Use line movement to encourage balanced book or reduce exposure.</li>
</ul>
</li>
<li><strong>Sharp bettors:</strong>
<ul>
<li>Seek lines that misprice actual probabilities.</li>
<li>Their bets signal valuable information to bookmakers.</li>
</ul>
</li>
<li><strong>Recreational bettors:</strong>
<ul>
<li>May bet based on news, trends, or biases.</li>
<li>Their actions further influence the line, sometimes contrary to sharp action.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="what-line-movement-does-not-guarantee">What Line Movement Does Not Guarantee<a hidden class="anchor" aria-hidden="true" href="#what-line-movement-does-not-guarantee">#</a></h2>
<ul>
<li>Line movement is not a definitive predictor of outcomes.</li>
<li>Sometimes public sentiment drives movement even against objective information.</li>
<li>Sharp money can be wrong, though on average it tends to be more informed.</li>
<li>Bookmakers also factor in their margins, so lines may not precisely reflect true probabilities.</li>
</ul>
<hr>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>Line movement offers a real-time lens into the flow of information within betting markets. It is the combined product of bookmaker risk management, sharp bettors&rsquo; informed actions, and public sentiment responding to news and data. Observing these movements can deepen your understanding of how markets collectively process information, although line shifts are not definite indicators of outcomes.</p>
<p>By recognizing what causes lines to move, and how markets respond to information, interested observers can appreciate the dynamics of prediction markets beyond the simple appeal of betting.</p>
<hr>
<h2 id="summary-points">Summary Points<a hidden class="anchor" aria-hidden="true" href="#summary-points">#</a></h2>
<ul>
<li>A betting line reflects implied probabilities and payout ratios.</li>
<li>Lines move primarily because of betting volume imbalance and new information.</li>
<li>Sharp money often signals valuable insider information, causing notable line movements.</li>
<li>Bookmakers adjust lines to balance bets and manage risk.</li>
<li>NBA injury reports provide a clear example of information flow affecting lines.</li>
<li>Line movement aggregates diverse information from sharps, public bettors, and external news.</li>
<li>Movement is a reflection of market consensus, not a guarantee of outcomes.</li>
</ul>
<p>By understanding these dynamics, readers can better appreciate the informational role lines play in sports betting markets and prediction markets broadly.</p>
<hr>
<blockquote>
<p>Educational only; not betting advice.</p>
</blockquote>
<h2 id="how-professionals-think-about-this">How professionals think about this<a hidden class="anchor" aria-hidden="true" href="#how-professionals-think-about-this">#</a></h2>
<ul>
<li>They focus on calibration and process, not short-term outcomes.</li>
<li>They separate signal from noise over many trials.</li>
<li>They care about prices, liquidity, and incentives—not narratives.</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://signalvsnoise.to/">SignalVsNoise</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
